---
import type { Recipe } from '../../types/recipe';

interface Props {
  recipe: Recipe;
}

const { recipe } = Astro.props;
---

<div class="recipe-card">
  <!-- Recipe Image Placeholder -->
  <div class="recipe-image-placeholder">
    <svg class="w-16 h-16 text-orange-400 dark:text-orange-300" fill="currentColor" viewBox="0 0 20 20">
      <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
    </svg>
  </div>
  
  <!-- Recipe Content -->
  <div class="card-content">
    <div class="mb-3">
      <h3 class="heading-tertiary mb-1">
        <a href={`/rezept/${recipe.id}`} class="hover:text-orange-600 dark:hover:text-orange-400 transition-colors">
          {recipe.title}
        </a>
      </h3>
      {recipe.subtitle && (
        <p class="text-sm text-muted">{recipe.subtitle}</p>
      )}
    </div>
    
    {recipe.description && (
      <p class="text-body text-sm mb-4 line-clamp-2">{recipe.description}</p>
    )}
    
    <!-- Recipe Metadata -->
    <div class="flex flex-wrap gap-2 mb-4">
      {recipe.metadata.servings && (
        <span class="badge badge-gray">
          <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
            <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"/>
          </svg>
          {recipe.metadata.servings} Portionen
        </span>
      )}
      {recipe.metadata.preparationTime && (
        <span class="badge badge-blue">
          <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
          </svg>
          {recipe.metadata.preparationTime} Min
        </span>
      )}
      {recipe.metadata.difficulty && (
        <span class={`badge ${
          recipe.metadata.difficulty === 'leicht' ? 'badge-green' :
          recipe.metadata.difficulty === 'mittel' ? 'badge-yellow' :
          'badge-red'
        }`}>
          {recipe.metadata.difficulty}
        </span>
      )}
    </div>
    
    <!-- Action Buttons -->
    <div class="flex space-x-2">
      <a href={`/rezept/${recipe.id}`} class="btn btn-primary flex-1 text-center">
        Anzeigen
      </a>
      <button class="btn btn-icon text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
        </svg>
      </button>
    </div>
  </div>
</div> 